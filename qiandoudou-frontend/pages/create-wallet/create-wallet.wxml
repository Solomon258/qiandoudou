<!--pages/create-wallet/create-wallet.wxml-->
<view class="container">
  <view class="form">
    <view class="form-item">
      <text class="form-label">钱包名称</text>
      <input class="form-input" placeholder="请输入钱包名称" bindinput="onNameInput" value="{{name}}" />
    </view>
    
    <view class="form-item">
      <text class="form-label">钱包类型</text>
      <view class="wallet-type-options">
        <view class="type-option {{walletType === 1 ? 'selected' : ''}}" bindtap="selectWalletType" data-type="1">
          <text class="type-icon">👤</text>
          <text class="type-name">个人钱包</text>
          <text class="type-desc">独自管理资金</text>
        </view>
        <view class="type-option {{walletType === 2 ? 'selected' : ''}}" bindtap="selectWalletType" data-type="2">
          <text class="type-icon">💕</text>
          <text class="type-name">AI情侣攒</text>
          <text class="type-desc">和AI一起攒钱</text>
        </view>
      </view>
    </view>

    <!-- AI伴侣选择（仅情侣钱包显示） -->
    <view wx:if="{{walletType === 2}}" class="form-item">
      <text class="form-label">选择AI伴侣</text>
      <view class="ai-partner-selector" bindtap="goToSelectPartner">
        <view wx:if="{{selectedPartner}}" class="selected-partner">
          <image class="partner-avatar-small" src="{{selectedPartner.avatar}}" mode="aspectFill" />
          <text class="partner-name">{{selectedPartner.name}}</text>
        </view>
        <view wx:else class="select-partner-placeholder">
          <text class="placeholder-text">点击选择AI伴侣</text>
        </view>
        <text class="arrow">></text>
      </view>
    </view>
    
    <view class="form-item">
      <text class="form-label">初始余额</text>
      <input class="form-input" placeholder="请输入初始余额" type="digit" bindinput="onBalanceInput" value="{{balance}}" />
    </view>
    
    <button class="create-btn" bindtap="handleCreate" disabled="{{loading || (walletType === 2 && !selectedPartner)}}">
      {{loading ? '创建中...' : '创建钱包'}}
    </button>
  </view>
</view>