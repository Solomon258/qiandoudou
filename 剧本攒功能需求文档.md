# 剧本攒功能需求文档

## 功能概述
剧本攒是一个基于故事情节的互动式储蓄功能，用户通过参与剧本故事的发展来激励自己坚持攒钱。

## 核心功能模块

### 1. 剧本列表页
**页面布局：**
- 顶部标题："剧本攒"
- 副标题："选择一个剧本，开始攒钱之旅"
- 分类标签：推荐、旅行、购物、学习、健身等
- 剧本卡片网格展示

**剧本卡片信息：**
- 剧本封面图，封面图左上角有一个标签“超过5万人跟”
- 剧本标题
- 剧本简介
- 攒钱周期（天数）
- 目标金额
- 每日建议攒钱金额

### 2. 剧本详情页（基于原型图第二页）
**页面结构：**
- 顶部：剧本标题和进度信息
- 中间：当前集数内容展示区域（可以为图文、图片、文本、视频）
- 底部：集数选择器（数字按钮3、4、5、6、7、8、9等）
- 底部：选择按钮区域

**核心交互逻辑：**
1. **集数解锁机制：**
   - 用户初始只能访问第1集
   - 通过攒钱达到指定金额可解锁下一集
   - 已解锁的集数可自由切换查看

2. **选择驱动剧情：**
   - 每集结尾提供2-3个选择选项
   - 不同选择对应不同的攒钱金额要求，“向钱都都转入”按钮是灰色不可点击的状态，只有选择一个选项后，才变成可点击的状态
   - 选择后需要充钱到钱兜兜才能解锁下一集内容
   - 不同选择会影响后续剧情走向

3. **付费解锁机制：**
   - 点击“向钱都都转入”按钮后，直接往进来的钱兜兜中转入对应的金额
   - 弹框确认
   - 确认后解锁下一集内容
4. 剧本页使用配置逻辑，数据库存有每一个剧本的流程信息，用json格式，其中content、为每一集的文本，image为图片的地址（图片会放在前端），video为视频地址（放在前端），selecttion就是用户的选项，nextId就是下一集打开的内容，cost就是该选项用户要攒的金额，格式如下：
[{
	"id": "",								//当前id
	"title": "",							//标题
	"content": "",							//文本
	"selections": [{
			"selection": "A.继续对抗",		//选项
			"nextId": "",					//下一节点的id,没有则为null
			"cost": 8						//攒钱金额
		},
		{
			"selection": "B.改变策略XXX",
			"nextId": "",
			"cost": 10
		}
	],
	"image": "",							//图片
	"video": ""	,							//视频
	
}]
5. 给你初始化一个剧本，它的json信息如下，你将这个json放到数据库表中：
[{
		"id": "1",
		"title": "寻佳缘",
		"content": null,
		"selections": [{
				"selection": "A.星汉灿烂",
				"nextId": "2",
				"cost": 8
			},
			{
				"selection": "B.星汉灿烂",
				"nextId": "2",
				"cost": 10
			}
		],
		"image": null,
		"video": "/images/script/古风古情/寻佳缘.mp4"

	},
	{
		"id": "2",
		"title": "星汉灿烂",
		"content": null,
		"selections": [{
				"selection": "A.好结局",
				"nextId": "3",
				"cost": 8
			},
			{
				"selection": "B.好结局",
				"nextId": "3",
				"cost": 16
			}
		],
		"image": null,
		"video": "/images/script/古风古情/星汉灿烂.mp4"
	},
	{
		"id": "3",
		"title": "好结局",
		"content": null,
		"selections": [{
				"selection": "A.完美结局",
				"nextId": null,
				"cost": 8
			},
			{
				"selection": "B.完美结局",
				"nextId": null,
				"cost": 12
			}
		],
		"image": null,
		"video": "/images/script/古风古情/好结局.mp4"

	}
]   

